<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Asteroid 333005 Haberle - Named after Christopher Haberle, Ph.D.">
    <title>Asteroid 333005 Haberle - Christopher Haberle, Ph.D.</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="src/css/pages/asteroid.css">
    <style>
        /* Mobile-first responsive improvements */
        @media (max-width: 768px) {
            /* Fix side-by-side layout on mobile */
            .discovery-section {
                grid-template-columns: 1fr !important;
                gap: 1.5rem !important;
                margin: 2rem 0 !important;
            }

            /* Improve table container on mobile */
            .discovery-section > div {
                padding: 1.5rem !important;
            }

            /* Make GIF responsive */
            .discovery-section img {
                max-height: 300px !important;
            }

            /* Improve 3D visualization on mobile */
            #orbit-container {
                height: 350px !important;
                touch-action: pan-y pinch-zoom;
            }

            /* Hide desktop controls, show mobile-friendly version */
            #orbit-container > div[style*="bottom: 10px"] {
                bottom: 5px !important;
                left: 5px !important;
                right: 5px !important;
                padding: 8px !important;
                font-size: 0.75rem !important;
                background: rgba(0,0,0,0.85) !important;
            }

            #info-overlay {
                top: 5px !important;
                right: 5px !important;
                font-size: 0.75rem !important;
                padding: 6px !important;
                max-width: 120px !important;
            }

            /* Reset button mobile style */
            #reset-view {
                padding: 6px 10px !important;
                font-size: 0.8rem !important;
                margin-top: 8px !important;
                width: 100% !important;
            }

            /* Main Belt section padding */
            .section > div > div:first-child {
                padding: 1.5rem !important;
                margin: 1.5rem 0 !important;
            }

            /* Citation container */
            .citation-container {
                margin: 2rem 0 !important;
            }

            /* Hero adjustments */
            .asteroid-hero {
                padding: 2rem 1rem !important;
            }

            .asteroid-title {
                font-size: 1.75rem !important;
            }

            .asteroid-subtitle {
                font-size: 1.1rem !important;
            }
        }

        /* Very small screens */
        @media (max-width: 480px) {
            /* Even more compact table */
            .orbital-table td {
                padding: 0.6rem 0.4rem !important;
                font-size: 0.8rem !important;
            }

            /* Smaller visualization */
            #orbit-container {
                height: 300px !important;
            }

            /* More compact controls */
            #orbit-container > div[style*="bottom: 10px"] br {
                display: none;
            }

            #orbit-container > div[style*="bottom: 10px"] {
                line-height: 1.3 !important;
            }
        }

        /* Improve touch interactions */
        @media (pointer: coarse) {
            .back-link,
            #reset-view,
            a[href*="jpl.nasa.gov"] {
                padding: 0.8rem 1.5rem !important;
                min-height: 44px;
                display: inline-flex;
                align-items: center;
            }
        }

        /* Landscape mobile optimization */
        @media (max-width: 768px) and (orientation: landscape) {
            .asteroid-hero {
                padding: 1.5rem 1rem !important;
            }

            #orbit-container {
                height: 250px !important;
            }
        }
    </style>
</head>
<body>
    <div class="asteroid-hero">
        <div class="asteroid-content">
            <h1 class="asteroid-title">Asteroid 333005 Haberle</h1>
            <p class="asteroid-subtitle">A Main Belt Asteroid</p>
            <p style="font-size: 1.1rem; margin-top: 1rem;">Named in honor of Christopher Haberle's contributions to planetary science</p>
        </div>
    </div>

    <main>
        <section class="section">
            <div class="container">
                <a href="index.html" class="back-link">← Back to main page</a>

                <!-- About Main Belt Asteroids - Moved to top -->
                <div style="margin: 3rem 0; padding: 2rem; background: var(--alice-blue); border-radius: 8px;">
                    <h2 style="color: var(--hunter-green); margin-bottom: 1.5rem; text-align: center;">Main Belt Asteroids</h2>
                    <p style="font-size: 1.1rem; line-height: 1.8;">
                        Main belt asteroids orbit the Sun between Mars and Jupiter, typically at distances of 2.1 to 3.3 astronomical units (AU).
                        These rocky bodies are remnants from the early Solar System that never coalesced into a planet due to Jupiter's gravitational influence.
                        The main asteroid belt contains millions of objects ranging from tiny pebbles to the dwarf planet Ceres, which is nearly 1,000 km in diameter.
                    </p>
                    <p style="margin-top: 1rem; font-size: 1.1rem; line-height: 1.8;">
                        Studying main belt asteroids like 333005 Haberle provides crucial insights into the conditions present during planetary formation
                        4.6 billion years ago. Their compositions and orbits preserve a record of the early Solar System's evolution, making them
                        invaluable targets for scientific investigation.
                    </p>
                </div>

                <!-- Official Naming Citation - Full Width Centered -->
                <div class="citation-container" style="margin: 3rem 0;">
                    <h2 style="color: var(--hunter-green); margin-bottom: 2rem; text-align: center; font-size: clamp(1.5rem, 4vw, 2rem);">Official Naming Citation</h2>
                    <div style="background: white; padding: clamp(1.5rem, 3vw, 3rem); border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); max-width: 900px; margin: 0 auto;">
                        <p style="font-size: clamp(1rem, 2.5vw, 1.25rem); font-style: italic; line-height: 1.8; color: var(--gunmetal); text-align: center;">
                            "Christopher Haberle (b. 1985) is an American geologist. He was a member of the OSIRIS-REx Thermal Emission
                            Spectrometer instrument team and is Deputy Instrument Scientist for the OSIRIS-APEX extended mission."
                        </p>
                        <p style="font-size: clamp(0.85rem, 2vw, 0.95rem); color: var(--cambridge-blue); margin-top: 1.5rem; text-align: center;">
                            — International Astronomical Union
                        </p>
                    </div>
                </div>

                <!-- Side-by-side layout: Discovery Image and Orbital Data -->
                <div class="discovery-section" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: stretch; margin: 3rem 0;">
                    <!-- Left: Discovery Image -->
                    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center;">
                        <img src="CSS_ML_2022Apr30_wArrows.gif"
                             alt="Discovery image of asteroid 333005 Haberle"
                             style="width: 100%; height: auto; max-height: 450px; object-fit: contain; border-radius: 4px;">
                    </div>

                    <!-- Right: Orbital Properties Table -->
                    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); display: flex; flex-direction: column; justify-content: center;">
                        <table class="orbital-table" style="background: transparent; width: 100%; border-spacing: 0;">
                            <tr>
                                <td style="color: var(--gunmetal); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); font-weight: 500; font-size: clamp(0.85rem, 2vw, 1rem);">Designation</td>
                                <td style="color: var(--hunter-green); font-weight: 600; padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); text-align: right; font-size: clamp(0.85rem, 2vw, 1rem);">333005 Haberle</td>
                            </tr>
                            <tr style="background: rgba(111,160,136,0.03);">
                                <td style="color: var(--gunmetal); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); font-weight: 500; font-size: clamp(0.85rem, 2vw, 1rem);">Semi-major Axis</td>
                                <td style="color: var(--hunter-green); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); text-align: right; font-size: clamp(0.85rem, 2vw, 1rem);">3.135 AU</td>
                            </tr>
                            <tr>
                                <td style="color: var(--gunmetal); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); font-weight: 500; font-size: clamp(0.85rem, 2vw, 1rem);">Eccentricity</td>
                                <td style="color: var(--hunter-green); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); text-align: right; font-size: clamp(0.85rem, 2vw, 1rem);">0.060</td>
                            </tr>
                            <tr style="background: rgba(111,160,136,0.03);">
                                <td style="color: var(--gunmetal); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); font-weight: 500; font-size: clamp(0.85rem, 2vw, 1rem);">Inclination</td>
                                <td style="color: var(--hunter-green); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); text-align: right; font-size: clamp(0.85rem, 2vw, 1rem);">17.32°</td>
                            </tr>
                            <tr>
                                <td style="color: var(--gunmetal); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); font-weight: 500; font-size: clamp(0.85rem, 2vw, 1rem);">Orbital Period</td>
                                <td style="color: var(--hunter-green); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); text-align: right; font-size: clamp(0.85rem, 2vw, 1rem);">5.55 years</td>
                            </tr>
                            <tr style="background: rgba(111,160,136,0.03);">
                                <td style="color: var(--gunmetal); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); font-weight: 500; font-size: clamp(0.85rem, 2vw, 1rem);">Magnitude (H)</td>
                                <td style="color: var(--hunter-green); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); text-align: right; font-size: clamp(0.85rem, 2vw, 1rem);">15.86</td>
                            </tr>
                            <tr>
                                <td style="color: var(--gunmetal); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); font-weight: 500; font-size: clamp(0.85rem, 2vw, 1rem);">Discovery Date</td>
                                <td style="color: var(--hunter-green); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); border-bottom: 1px solid rgba(0,0,0,0.1); text-align: right; font-size: clamp(0.85rem, 2vw, 1rem);">Feb 13, 2010</td>
                            </tr>
                            <tr style="background: rgba(111,160,136,0.03);">
                                <td style="color: var(--gunmetal); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); font-weight: 500; font-size: clamp(0.85rem, 2vw, 1rem);">Discovery Site</td>
                                <td style="color: var(--hunter-green); padding: clamp(0.8rem, 2vw, 1.3rem) clamp(0.5rem, 2vw, 1.2rem); text-align: right; font-size: clamp(0.85rem, 2vw, 1rem);">Mt. Lemmon</td>
                            </tr>
                        </table>
                        <p style="font-size: 0.85rem; color: var(--gunmetal); margin-top: 1.5rem; text-align: center;">
                            <em>Data source: <a href="https://minorplanetcenter.net/db_search/show_object?object_id=333005" target="_blank" style="color: var(--savoy-blue);">Minor Planet Center</a></em>
                        </p>
                    </div>
                </div>

                <div class="orbit-viz">
                    <h3>Interactive 3D Orbit Visualization</h3>
                    <p style="margin-bottom: 1.5rem;">
                        Asteroid 333005 Haberle orbits in the main asteroid belt between Mars and Jupiter. With a semi-major axis of 3.135 AU
                        and an orbital period of 5.55 years, it follows a nearly circular orbit with low eccentricity (0.060) and a moderate
                        inclination of 17.32° relative to the ecliptic plane.
                    </p>

                    <!-- 3D Orbit Viewer Container -->
                    <div id="orbit-container" style="width: 100%; height: 600px; background: #000; border-radius: 8px; position: relative;">
                        <div id="loading-message" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 1.2rem;">
                            Loading 3D visualization...
                        </div>
                        <canvas id="orbit-canvas"></canvas>

                        <!-- Controls overlay -->
                        <div style="position: absolute; bottom: 10px; left: 10px; color: white; background: rgba(0,0,0,0.7); padding: 10px; border-radius: 5px; font-size: 0.9rem;">
                            <strong>Controls:</strong><br>
                            🖱️ Left click + drag: Rotate<br>
                            🖱️ Right click + drag: Pan<br>
                            🖱️ Scroll: Zoom<br>
                            <button id="reset-view" style="margin-top: 5px; padding: 5px 10px; background: var(--savoy-blue); color: white; border: none; border-radius: 3px; cursor: pointer;">Reset View</button>
                        </div>

                        <!-- Info overlay -->
                        <div id="info-overlay" style="position: absolute; top: 10px; right: 10px; color: white; background: rgba(0,0,0,0.7); padding: 10px; border-radius: 5px; font-size: 0.9rem; max-width: 200px;">
                            <strong>333005 Haberle</strong><br>
                            <span id="current-date"></span><br>
                            <span id="asteroid-distance"></span>
                        </div>
                    </div>

                    <!-- Include Three.js and OrbitControls from CDN -->
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

                    <!-- 3D Orbit Visualization Script -->
                    <!-- Three.js visualization moved to external module -->
                    <script type="module" src="src/js/modules/asteroid-visualization.js"></script>

                    <div style="text-align: center; margin-top: 2rem;">
                        <a href="https://ssd.jpl.nasa.gov/tools/orbit_viewer.html#/?des=333005"
                           target="_blank"
                           style="display: inline-block; padding: 1rem 2rem; background: var(--savoy-blue); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: background 0.3s;">
                            View in NASA JPL Orbit Viewer →
                        </a>
                    </div>

                    <div style="margin-top: 1rem; padding: 1rem; background: rgba(0,0,0,0.05); border-radius: 8px;">
                        <p style="font-size: 0.9rem; color: var(--gunmetal); text-align: center;">
                            <strong>Position Calculation:</strong> This visualization computes real-time positions using Keplerian orbital mechanics
                            based on the asteroid's orbital elements from the Minor Planet Center. The calculations solve Kepler's equation
                            to determine the current position along the orbit, accounting for the asteroid's eccentricity, inclination,
                            and orientation in space.
                        </p>
                    </div>
                </div>

                <p style="margin-top: 3rem; text-align: center;">
                    <a href="index.html" class="back-link">← Back to main page</a>
                </p>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Christopher Haberle, Ph.D. All rights reserved.</p>
        </div>
    </footer>

    <script type="module" src="script.js"></script>
</body>
</html>